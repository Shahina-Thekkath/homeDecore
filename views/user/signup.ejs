
<%-include("../../views/partials/user/signupLoginHeader")%>


<style>
    #togglePassword {
    font-size: 1.2rem;
    color: #888;
}

#togglePassword:hover {
    color: #000;
}

#toggleCPassword {
    font-size: 1.2rem;
    color: #888;
}

#toggleCPassword:hover {
    color: #000;
}


</style>
        <!--====== End - Main Header ======-->


        <!--====== App Content ======-->
        <div class="app-content">

            <!--====== Section 1 ======-->
            <div class="u-s-p-y-60">

                
            </div>
            <!--====== End - Section 1 ======-->


            <!--====== Section 2 ======-->
            <div class="u-s-p-b-60">

                <!--====== Section Intro ======-->
                <div class="section__intro u-s-m-b-60">
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="section__text-wrap">
                                    <h1 class="section__heading u-c-secondary">CREATE AN ACCOUNT</h1>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--====== End - Section Intro ======-->


                <!--====== Section Content ======-->
                <div class="section__content">
                    <div class="container">
                        <div class="row row--center">
                            <div class="col-lg-6 col-md-8 u-s-m-b-30">
                                <div class="l-f-o">
                                    <div class="l-f-o__pad-box">
                                        <h1 class="gl-h1">PERSONAL INFORMATION</h1>
                                        <form id="signform" class="l-f-o__form" method="post" action="/signup">
                                            <div class="gl-s-api">
                                                <div class="u-s-m-b-15">

                                                  
                                                <div class="u-s-m-b-30">

                                                    <!-- <button class="gl-s-api__btn gl-s-api__btn--gplus" type="button"><i class="fab fa-google"></i>

                                                        <span>Signup with Google</span></button></div> -->

                                                        <a href="/auth/google" class="gl-s-api__btn gl-s-api__btn--gplus">
                                                            <i class="fab fa-google"></i>
                                                            <span>Signup with Google</span>
                                                        </a>
                                            </div>

                                             <p class="text-danger" style="color: #dc3545; font-weight: 600; margin-bottom: 5px;" ><%=locals.message?locals.message:""%></p>
                                            <div class="u-s-m-b-30">

                                                <label class="gl-label" for="reg-fname">FULL NAME *</label>

                                                <input class="input-text input-text--primary-style" type="text" id="reg-fname" placeholder=" Enter Name" name="name" value="<%=locals.name?name:""%>">
                                                <div  id="error1" class="error-message"></div>
                                            </div>
                                            <div class="u-s-m-b-30">
                                                

                                                
                                                <label class="gl-label" for="reg-phone">PHONE *</label>

                                                <input class="mb-1 input-text input-text--primary-style" type="text" id="reg-phone" placeholder="Phone Number" name="phone" value="<%=locals.phone?phone:""%>">
                                                <div  id="error2" class="error-message "></div>
                                            </div>
                                            
                                            <div class="u-s-m-b-30">
                                                

                                                
                                                <label class="gl-label" for="reg-email">E-MAIL *</label>

                                                <input class="input-text input-text--primary-style" type="text" id="reg-email" placeholder="Enter E-mail" name="email" value="<%=locals.email?email:""%>">
                                                <p id="error3" class="error-message "></p>
                                            </div>
                                                
                                                <div class="u-s-m-b-30">
                                                
                                                <!-- <div  id="error3" class="error-message "></div> -->

                                                
                                                <label class="gl-label" for="reg-password">PASSWORD *</label>

                                                <div style="position: relative; display: inline-block;">
                                                    <input
                                                        class="input-text input-text--primary-style"
                                                        type="password"
                                                        id="reg-password"
                                                        placeholder="Enter Password"
                                                        name="password"
                                                        value="<%=locals.password ? password : '' %>"
                                                        style="padding-right: 240px;"
                                                    />
                                                    <span
                                                        id="togglePassword"
                                                        style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; "
                                                    >
                                                        üëÅÔ∏è
                                                    </span>
                                                </div>
                                                <div  id="error4" class="error-message "></div>
                                            </div>
                                            <div class="u-s-m-b-30">
                                                <label class="gl-label" for="reg-cpassword">CONFIRM PASSWORD *</label>

                                                <div style="position: relative; display: inline-block;">
                                                    <input
                                                        class="input-text input-text--primary-style"
                                                        type="password"
                                                        id="reg-cpassword"
                                                        placeholder="Confirm Password"
                                                        name="cpassword"
                                                        style="padding-right: 240px;"
                                                    />
                                                    <span
                                                        id="toggleCPassword"
                                                        style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer;"
                                                    >
                                                        üëÅÔ∏è
                                                    </span>
                                                </div>
                                                <div  id="error5" class="error-message "></div>
                                                </div>
                                            <div class="u-s-m-b-15">
                                                

                                                <button class="btn btn--e-transparent-brand-b-2" type="submit">CREATE</button></div>

                                            <a class="gl-link" href="/">Return to Store</a>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--====== End - Section Content ======-->
            </div>
            <!--====== End - Section 2 ======-->
        </div>
        <!--====== End - App Content ======-->

<script>
window.ga = function() {
    ga.q.push(arguments)
};
ga.q = [];
ga.l = +new Date;
ga('create', 'UA-XXXXX-Y', 'auto');
ga('send', 'pageview')
</script>
<script src="https://www.google-analytics.com/analytics.js" async defer></script>

<!--====== Vendor Js ======-->
<script src="js/vendor.js"></script>

<!--====== jQuery Shopnav plugin ======-->
<script src="js/jquery.shopnav.js"></script>

<!--====== App ======-->
<script src="js/app.js"></script>

<!--====== Noscript ======-->
<noscript>
<div class="app-setting">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="app-setting__wrap">
                    <h1 class="app-setting__h1">JavaScript is disabled in your browser.</h1>

                    <span class="app-setting__text">Please enable JavaScript in your browser or upgrade to a JavaScript-capable browser.</span>
                </div>
            </div>
        </div>
    </div>
</div>
</noscript>


<script>
    // Select elements
const passwordInput = document.getElementById("reg-password");
const togglePassword = document.getElementById("togglePassword");

// Add event listener
togglePassword.addEventListener("click", () => {
    // Toggle the input type
    const type = passwordInput.type === "password" ? "text" : "password";
    passwordInput.type = type;

    // Toggle the icon (optional)
    togglePassword.textContent = type === "password" ? "üëÅÔ∏è" : "üôà";
});

</script>

<script>

    // Select elements
const confirmPasswordInput = document.getElementById("reg-cpassword");
const toggleCPassword = document.getElementById("toggleCPassword");

// Add event listener
toggleCPassword.addEventListener("click", () => {
    // Toggle the input type
    const type = confirmPasswordInput.type === "password" ? "text" : "password";
    confirmPasswordInput.type = type;

    // Toggle the icon (optional)
    toggleCPassword.textContent = type === "password" ? "üëÅÔ∏è" : "üôà";
});

</script>
<script>

    

    document.addEventListener("DOMContentLoaded", function() {

        const nameid = document.getElementById("reg-fname");
    const phoneid = document.getElementById("reg-phone");
    const emailid = document.getElementById("reg-email");
    const passwordid = document.getElementById("reg-password");
    const cpasswordid = document.getElementById("reg-cpassword");
    const error1 = document.getElementById("error1");
    const error2 = document.getElementById("error2");
    const error3 = document.getElementById("error3");
    const error4 = document.getElementById("error4");
    const error5 = document.getElementById("error5");
    const signform = document.getElementById("signform");


        signform.addEventListener("submit", function(e){

            nameValidateChecking();
            phoneValidateChecking();
            emailValidateChecking();
            passValidateChecking();

        

             // Check if any error message is displayed
             const hasErrors = [error1, error2, error3, error4, error5].some(err => err.innerHTML.trim() !== "");

            // If there are errors, prevent the form from submitting
            if (hasErrors) {
                e.preventDefault(); // Stops form submission
                console.log("Form has errors. Submission prevented.");
            } else {
                console.log("Form submitted successfully."); // Optionally handle successful submission
            }
            });

            function nameValidateChecking(){
                const nameVal = nameid.value;
                const namePattern = /^[a-zA-Z.\s,]{3,80}$/;

                if(nameVal.trim() === ""){
                    error1.style.display = "block";
                    error1.innerHTML = "Please enter a valid name";
                }else if(!namePattern.test(nameVal)){
                    error1.style.display = "block";
                    error1.innerHTML = "Name can only contain alphabets and spaces";
                }else{
                    error1.style.display = "none";
                    error1.innerHTML = "";
                }
            }    


            function phoneValidateChecking(e){
                const phoneVal = phoneid.value;
                const phonePattern = /^[6-9]\d{9}$/;

                if(phoneVal.trim() === ""){
                    error2.style.display = "block";
                    error2.innerHTML = "Enter valid phone number";
                }
                else if(phoneVal.length < 10 || phoneVal.length > 10){
                    error2.style.display = "block";
                    error2.innerHTML = "Enter 10 digits";
                }else if(!phonePattern.test(phoneVal)){
                    error2.style.display = "block";
                    error2.innerHTML = "Mobile number must be exactly 10 digits and start with 6‚Äì9 (e.g., 9876543210)."
                }else{
                    error2.style.display = "none";
                    error2.innerHTML = "";
                }
            }

            function emailValidateChecking(e){
                const emailVal = emailid.value;
                const emailPattern = /^([a-zA-Z0-9._-]+)@([a-zA-z0-9/-]+)\.([a-zA-Z]{2,4})$/;

                if(emailVal.trim() === ""){
                    error3.style.display = "block";
                    error3.innerHTML = "Please enter a valid email";
                }else if(!emailPattern.test(emailVal)){
                    error3.style.display = "block";
                    error3.innerHTML = "Invalid Format";
                }else{
                    error3.style.display = "none";
                    error3.innerHTML = "";
                }
            }

            function passValidateChecking(e){
                const alpha = /[a-zA-Z]/;
                const digit = /\d/;
                const passVal = passwordid.value;
                const cpassVal = cpasswordid.value;

                 if(passVal.trim() === ""){
                    error4.style.display = "block";
                    error4.innerHTML = "Enter valid password";
                }else if(passVal.length < 8){
                    error4.style.display = "block";
                    error4.innerHTML = "Should contain atleast 8 characters";
                }else if(!alpha.test(passVal) || !digit.test(passVal)){
                    error4.style.display = "block";
                    error4.innerHTML = "Should contain numbers and alphabets";
                }
                else{
                    error4.style.display = "none";
                    error4.innerHTML = "";
                }

                if(cpassVal.trim() === ""){
                    error5.style.display = "block";
                    error5.innerHTML = "Enter valid confirm password";
                }else if(passVal !== cpassVal){
                    error5.style.display = "block";
                    error5.innerHTML = "Passwords do not match";
                }else{
                    error5.style.display = "none";
                    error5.innerHTML = "";
                }
            }       
        });

</script>
</body>
</html>

        

       